import{j as r,h as c,g as u,L as h,y as p}from"./index-DSqpeUuh.js";import{u as g,T as s,c as x,a as o,b as f}from"./index.esm-BqKsF3iU.js";import{a as b}from"./api-Dj5MVBib.js";import{q as w,h as v,C as j,P,r as i,B as d,t as y}from"./Modal-BYNEZc4r.js";import{A as B}from"./Avatar-DYKwrPjp.js";import{A as C}from"./Alert-gccA8IL_.js";import{L as A}from"./Link-D04yg4pt.js";import"./Select-Bl1ZimVr.js";import"./Menu-CTMPHzOI.js";import"./IconButton-Dd534vho.js";const k=w(r.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zm-3-3v-3h3v-2H6V7H4v3H1v2h3v3z"})),S=x({username:o().min(3,"Username should be of minimum 3 characters length").required("Username is required"),email:o().email("Enter a valid email").required("Email is required"),password:o().min(6,"Password should be of minimum 6 characters length").required("Password is required"),confirmPassword:o().oneOf([f("password")],"Passwords must match").required("Confirm Password is required")}),z=()=>{const l=c(),m=u(),n=v(),e=g({initialValues:{username:"",email:"",password:"",confirmPassword:""},validationSchema:S,onSubmit:async t=>{try{const a=await b.auth.register({username:t.username,email:t.email,password:t.password});m(p(a)),l("/")}catch(a){e.setStatus(a instanceof Error?a.message:"Registration failed")}}});return r.jsx(j,{component:"main",maxWidth:"xs",sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsxs(P,{elevation:3,sx:{p:4,width:"100%",borderRadius:2,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:n.palette.mode==="dark"?"linear-gradient(45deg, #90caf9 30%, #ce93d8 90%)":"linear-gradient(45deg, #1976d2 30%, #9c27b0 90%)"}},children:[r.jsx(B,{sx:{mb:2,bgcolor:"primary.main",width:56,height:56},children:r.jsx(k,{})}),r.jsx(i,{component:"h1",variant:"h5",fontWeight:"500",gutterBottom:!0,children:"Create Account"}),r.jsxs(d,{component:"form",onSubmit:e.handleSubmit,sx:{width:"100%"},children:[e.status&&r.jsx(C,{severity:"error",sx:{mb:2},children:e.status}),r.jsx(s,{margin:"normal",fullWidth:!0,id:"username",name:"username",label:"Username",value:e.values.username,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.username&&!!e.errors.username,helperText:e.touched.username&&e.errors.username,sx:{mb:2}}),r.jsx(s,{margin:"normal",fullWidth:!0,id:"email",name:"email",label:"Email Address",value:e.values.email,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.email&&!!e.errors.email,helperText:e.touched.email&&e.errors.email,sx:{mb:2}}),r.jsx(s,{margin:"normal",fullWidth:!0,id:"password",name:"password",label:"Password",type:"password",value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.password&&!!e.errors.password,helperText:e.touched.password&&e.errors.password,sx:{mb:2}}),r.jsx(s,{margin:"normal",fullWidth:!0,id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:"password",value:e.values.confirmPassword,onChange:e.handleChange,onBlur:e.handleBlur,error:e.touched.confirmPassword&&!!e.errors.confirmPassword,helperText:e.touched.confirmPassword&&e.errors.confirmPassword,sx:{mb:3}}),r.jsx(y,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:e.isSubmitting,sx:{mb:3,height:"48px",background:n.palette.mode==="dark"?"linear-gradient(45deg, #90caf9 30%, #ce93d8 90%)":"linear-gradient(45deg, #1976d2 30%, #9c27b0 90%)","&:hover":{background:n.palette.mode==="dark"?"linear-gradient(45deg, #82b1e8 30%, #ba84c7 90%)":"linear-gradient(45deg, #1565c0 30%, #7b1fa2 90%)"}},children:e.isSubmitting?"Creating Account...":"Create Account"}),r.jsx(d,{sx:{textAlign:"center"},children:r.jsxs(i,{variant:"body2",color:"text.secondary",children:["Already have an account?"," ",r.jsx(A,{component:h,to:"/login",color:"primary",sx:{textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"Sign In"})]})})]})]})})};export{z as default};
